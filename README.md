# e_m
Реализация асинхронного сервиса управления пользователями.

Тестовое задание.
WEB-сервис включает в себя REST API (FastAPI + SQLAlchemy/Alembic) для работы с БД (PostgreSQL). 
Реализованы следующие категории разграничения доступа:
1. Любой пользователь может:
* зарегистрироваться и/или аутентифицироваться;
* просмотреть список объектов и карточку объекта
2. Аутентифицированный пользователь в дополнение к возможностям любого пользователя может:
* посмотреть список пользователей и свою личную карточку
* добавить новый объект
3. Администратор (суперпользователь) в дополнение к возможностям аутентифицированного пользователя может:
* просматривать и изменять карточки всех пользователей, в том числе наделять их правами администратора.
* удалять (деактивировать) пользователя
* изменять и удалять объекты

Сделаны автоматические тесты (Pytest) авторизации/аутентификации, crud-операций.
## Автор:
Алексей Наумов ( algena75@yandex.ru )
## Используемые технологии:
* FastAPI
* PostgreSQL
* JWT
* Swagger
* Asyncio
* SQLAlchemy + Alembic
* Pytest

## Как запустить проект:
Клонировать репозиторий и перейти в него в командной строке:


```
git clone git@github.com:algena75/e_m.git
```

```
cd e_m
```

### Запуск виртуального окружения

Создание виртуального окружения:
```bash
poetry env use python3.10
```
Установка зависимостей:
```bash
poetry install
```
Запуск оболочки и активация виртуального окружения (из папки проекта):
```bash
poetry shell
```
Проверка активации виртуального окружения:
```bash
poetry env list
```
## Подготовка:
Создать в корне проекта файл `.env` (см `.env.example`) для подключения БД. Предполагается, что у пользователя установлен PostgreSQL.
Выполнить миграции:
```bash
alembic upgrade head
```

* #### для запуска проекта в терминале выполнить:
    ```bash
    uvicorn app.main:app
    ```
Oткрыть в браузере ` http://127.0.0.1:8000/docs `.
При первом запуске будут созданы база данных проекта и первый суперпользователь.
